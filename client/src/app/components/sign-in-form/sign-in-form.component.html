<h2>Sign in to your account</h2>
<form (ngSubmit)="onSubmit(form)" #form="ngForm">
  <mat-form-field>
    <mat-label>Username</mat-label>
    <input
      matInput
      name="username"
      type="text"
      autocomplete="username"
      [(ngModel)]="username"
      #usernameModel="ngModel"
      maxlength="100"
      required
      spellcheck="false"
    />
    @if (usernameModel.hasError("required")) {
      <mat-error>This field is required</mat-error>
    } @else if (usernameModel.hasError("maxlength")) {
      <mat-error>Maximum length exceeded</mat-error>
    }
  </mat-form-field>

  <mat-form-field>
    <mat-label>Password</mat-label>
    <input
      matInput
      name="password"
      type="password"
      autocomplete="current-password"
      [(ngModel)]="password"
      #passwordModel="ngModel"
      maxlength="64"
      required
    />
    @if (passwordModel.hasError("required")) {
      <mat-error>This field is required</mat-error>
    } @else if (passwordModel.hasError("maxlength")) {
      <mat-error>Maximum length exceeded</mat-error>
    }
  </mat-form-field>

  <button type="submit">Sign in</button>
  @if (areCredentialsInvalid()) {
    <div>Bad credentials. Try again.</div>
  }
</form>

<p>
  Don't have an account?
  <a routerLink="/register">Register</a>
</p>
